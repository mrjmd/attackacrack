<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Attack-a-Crack CRM{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-800 text-white">
    <div class="flex">
        <!-- Sidebar -->
        <div class="w-64 h-screen bg-gray-900 flex-shrink-0 overflow-y-auto">
            <div class="px-4 py-6">
                <h1 class="text-2xl font-bold text-white mb-8">Attack-a-Crack</h1>
                <nav class="space-y-2">
                    
                    <!-- Dashboard -->
                    <a href="{{ url_for('main.dashboard') }}" 
                       class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'main.dashboard' %}bg-gray-700 text-blue-400{% endif %}">
                        <span class="mr-3 text-lg">üìä</span>
                        Dashboard
                    </a>
                    
                    <!-- Inbox Section -->
                    <div class="pt-4">
                        <div class="flex items-center justify-between px-4 py-2">
                            <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide">Inbox</h3>
                        </div>
                        <a href="{{ url_for('contact.conversation_list') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'contact.conversation_list' %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üí¨</span>
                            All Conversations
                        </a>
                        <a href="{{ url_for('contact.conversation_list') }}?filter=missed" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700">
                            <span class="mr-3 text-lg">üìû</span>
                            Missed Calls & Voicemails
                        </a>
                    </div>
                    
                    <!-- CRM Section -->
                    <div class="pt-4">
                        <div class="flex items-center justify-between px-4 py-2">
                            <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide">CRM</h3>
                        </div>
                        <a href="{{ url_for('contact.list_all') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('contact.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üë•</span>
                            Contacts
                        </a>
                        <a href="{{ url_for('property.list_all') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('property.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üè†</span>
                            Properties
                        </a>
                    </div>
                    
                    <!-- Workflow Section -->
                    <div class="pt-4">
                        <div class="flex items-center justify-between px-4 py-2">
                            <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide">Workflow</h3>
                        </div>
                        <a href="{{ url_for('job.list_all') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('job.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üîß</span>
                            Jobs
                        </a>
                        <a href="{{ url_for('quote.list_all') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('quote.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üí∞</span>
                            Quotes
                        </a>
                        <a href="{{ url_for('invoice.list_all') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('invoice.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üßæ</span>
                            Invoices
                        </a>
                        <a href="{{ url_for('appointment.list_all') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('appointment.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üìÖ</span>
                            Schedule
                        </a>
                    </div>
                    
                    <!-- Growth Section -->
                    <div class="pt-4">
                        <div class="flex items-center justify-between px-4 py-2">
                            <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide">Growth</h3>
                        </div>
                        <a href="{{ url_for('campaigns.campaign_list') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint.startswith('campaigns.') %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üì¢</span>
                            Marketing
                        </a>
                        <a href="{{ url_for('growth.financials') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'growth.financials' %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üìà</span>
                            Financials
                        </a>
                    </div>
                    
                    <!-- Settings Section -->
                    <div class="pt-4 pb-4">
                        <div class="flex items-center justify-between px-4 py-2">
                            <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wide">Settings</h3>
                        </div>
                        <a href="{{ url_for('settings.imports') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'settings.imports' %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üì•</span>
                            Data Imports
                        </a>
                        <a href="{{ url_for('settings.automation') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'settings.automation' %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">‚öôÔ∏è</span>
                            Automation
                        </a>
                        <a href="{{ url_for('settings.sync_health') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'settings.sync_health' %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üîÑ</span>
                            Sync Health
                        </a>
                        <a href="{{ url_for('main.settings') }}" 
                           class="flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors hover:bg-gray-700 {% if request.endpoint == 'main.settings' %}bg-gray-700 text-blue-400{% endif %}">
                            <span class="mr-3 text-lg">üîß</span>
                            System Settings
                        </a>
                    </div>
                    
                </nav>
            </div>
        </div>
        <!-- Main content -->
        <div class="flex-1 p-10 overflow-auto">
            {% block content %}{% endblock %}
        </div>
    </div>
</body>
</html>
