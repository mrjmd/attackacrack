{% extends "base.html" %}

{% block title %}Recent Conversations{% endblock %}

{% block content %}
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-3xl font-bold">Recent Conversations</h2>
    </div>
    <div class="bg-gray-900 rounded-lg shadow p-6">
        <ul>
            {% for message in messages %}
                <li class="border-b border-gray-700 py-3">
                    <a href="{{ url_for('contact.conversation', contact_id=message.contact.id) }}" class="block hover:bg-gray-800 p-2 rounded-lg">
                        <p class="font-semibold text-white">{{ message.contact.first_name }} {{ message.contact.last_name }}</p>
                        <p class="text-sm text-gray-400 truncate">{{ message.body }}</p>
                        <p class="text-xs text-gray-500 text-right mt-1">{{ message.timestamp.strftime('%b %d, %I:%M %p') }}</p>
                    </a>
                </li>
            {% else %}
                 <li>No conversations found.</li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
